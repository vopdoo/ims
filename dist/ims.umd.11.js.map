{"version":3,"sources":["webpack://ims/./src/views/Login.vue?74be","webpack://ims/src/views/Login.vue","webpack://ims/./src/views/Login.vue?4c5c","webpack://ims/./src/views/Login.vue"],"names":[],"mappings":";;;;;;;;;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,kBAAkB,YAAY,6BAA6B,iBAAiB,YAAY,wBAAwB,wFAAwF,sBAAsB,aAAa,gDAAgD,gDAAgD,iBAAiB,OAAO,kBAAkB,cAAc,OAAO,wEAAwE,QAAQ,uDAAuD,wCAAwC,iCAAiC,qBAAqB,OAAO,mBAAmB,cAAc,OAAO,iIAAiI,KAAK,uBAAuB,QAAQ,wDAAwD,yCAAyC,kCAAkC,mCAAmC,OAAO,2CAA2C,iBAAiB,OAAO,sDAAsD,uCAAuC,gCAAgC,qCAAqC,uCAAuC,4CAA4C,mEAAmE,OAAO,kDAAkD,KAAK,yBAAyB,gCAAgC,yDAAyD,OAAO,yBAAyB;AACrqD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0CA;AACA;CAEA;;AAEA;AAEA;AACA,eADA;AAEA;AACA,WADA,qBACA;AACA,wBACA,SADA;AAGA,KALA;AAMA,eANA,yBAMA;AACA,wBACA,SADA,YAEA,EAFA;AAIA,KAXA;AAYA,iBAZA,2BAYA;AACA;AACA,KAdA;AAeA,eAfA,yBAeA;AACA;AACA,KAjBA;AAkBA,yBAlBA,mCAkBA;AACA;AACA;AApBA,KAsBA;AACA,0BADA;AAEA,4BAFA;AAGA,gCAHA;AAIA,oCAJA;AAKA;AALA,IAtBA,CAFA;AAgCA,SAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAiCA,2CAjCA;;AAAA;AAmCA;;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAqCA,MArCA,kBAqCA;AACA;AAEA,oBAFA;AAGA,oBAHA;AAIA,mCAJA;AAKA,uCALA;AAMA;AACA,gCADA;AAEA,0BAFA;AAGA;AAHA,OANA;AAWA;AACA,kBACA;AAAA;AAAA;AAAA;AAAA,SADA,CADA;AAIA,mBACA;AAAA;AAAA;AAAA;AAAA,SADA;AAJA;AAXA;AAoBA,GA1DA;AA4DA,uDACA,8CACA,UADA,EADA;AAKA,WALA,qBAKA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAbA;AAcA,SAdA,iBAcA,IAdA,EAcA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AAFA,mBADA,CAKA;;;AACA;AACA,aAPA,MAOA;AACA;AACA;AACA,WAXA,EAWA,KAXA,CAWA;AACA,+CADA,CAEA;;AACA,WAdA;AAeA,SAhBA,MAgBA,CACA;AACA;AACA,OApBA;AAsBA;AArCA;AA5DA,G;;AClDkX,CAAgB,qGAAG,EAAC,C;;;;;ACAlT;AAC3B;AACL;;;AAGpD;AAC0F;AAC1F,gBAAgB,8CAAU;AAC1B,EAAE,mCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,4F","file":"ims.umd.11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classes},[_c('div',{class:_vm.wrapClasses,attrs:{\"id\":\"login-fm\"}},[_c('div',{class:_vm.headerClasses},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('p',[_vm._v(_vm._s(_vm.slogan))])]),_c('div',{class:_vm.bodyClasses},[_c('Form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"prop\":\"account\"}},[_c('Input',{attrs:{\"element-id\":\"account\",\"prefix\":\"ios-contact\",\"placeholder\":\"账号/邮箱/手机号\"},model:{value:(_vm.loginForm.account),callback:function ($$v) {_vm.$set(_vm.loginForm, \"account\", $$v)},expression:\"loginForm.account\"}})],1),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"element-id\":\"password\",\"type\":_vm.passwordInputType,\"prefix\":\"ios-unlock\",\"icon\":_vm.passwordInputSuffixIcon,\"placeholder\":\"密码\"},on:{\"on-click\":_vm.showPwd},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('FormItem',[_c('Tooltip',{attrs:{\"content\":\"请勿在公共场所使用\",\"placement\":\"right\"}},[_c('Checkbox',{model:{value:(_vm.loginForm.rememb),callback:function ($$v) {_vm.$set(_vm.loginForm, \"rememb\", $$v)},expression:\"loginForm.rememb\"}},[_vm._v(\"记住密码\")])],1),_c('Tooltip',{class:_vm.forgetPasswordClasses,attrs:{\"placement\":\"right\",\"content\":\"忘记密码请联系管理员\"}},[_c('span',[_vm._v(\" 忘记密码？ \")])])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"success\",\"loading\":_vm.logining,\"long\":\"\"},on:{\"click\":function($event){return _vm.login('loginForm')}}},[_vm._v(\"登录\")])],1)],1)],1)]),(_vm.spinShow)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :class=\"classes\">\n        <div id=\"login-fm\" :class=\"wrapClasses\">\n            <div :class=\"headerClasses\">\n                <h1>{{title}}</h1>\n                <p>{{slogan}}</p>\n            </div>\n            <div :class=\"bodyClasses\">\n                <Form ref=\"loginForm\" :model=\"loginForm\" class=\"login-form\" :rules=\"ruleValidate\">\n                    <FormItem prop=\"account\">\n                        <Input element-id=\"account\" v-model=\"loginForm.account\" prefix=\"ios-contact\"\n                               placeholder=\"账号/邮箱/手机号\"/>\n                    </FormItem>\n                    <FormItem prop=\"password\">\n                        <Input element-id=\"password\"\n                               @on-click=\"showPwd\"\n                               v-model=\"loginForm.password\"\n                               :type=\"passwordInputType\"\n                               prefix=\"ios-unlock\"\n                               :icon=\"passwordInputSuffixIcon\"\n                               placeholder=\"密码\"\n                        />\n                    </FormItem>\n                    <FormItem>\n                        <Tooltip content=\"请勿在公共场所使用\" placement=\"right\">\n                            <Checkbox v-model=\"loginForm.rememb\">记住密码</Checkbox>\n                        </Tooltip>\n                        <Tooltip :class=\"forgetPasswordClasses\" placement=\"right\" content=\"忘记密码请联系管理员\">\n                            <span> 忘记密码？ </span>\n                        </Tooltip>\n                    </FormItem>\n                    <FormItem>\n                        <Button type=\"success\" :loading=\"logining\" long @click=\"login('loginForm')\">登录</Button>\n                    </FormItem>\n                </Form>\n            </div>\n        </div>\n        <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n\n    </div>\n</template>\n\n<script>\n    import {mapGetters} from 'vuex'\n    import { mapActions } from 'vuex'\n    import _  from 'lodash';\n    // console.info(_.now());\n\n    const prefixCls = 'ims-login';\n\n    export default {\n        name: \"Login\",\n        computed: {\n            classes() {\n                return [\n                    `${prefixCls}`,\n                ];\n            },\n            wrapClasses() {\n                return [\n                    `${prefixCls}-wrap`,\n                    {}\n                ];\n            },\n            headerClasses() {\n                return `${prefixCls}-header`;\n            },\n            bodyClasses() {\n                return `${prefixCls}-body`;\n            },\n            forgetPasswordClasses() {\n                return `${prefixCls}-forget-password`;\n            },\n\n            ...mapGetters({\n                'title': 'login/title',\n                'slogan': 'login/slogan',\n                'logining': 'login/logining',\n                'is_logined': 'login/is_logined',\n                'routers': 'login/routers',\n            })\n        },\n        async created() {\n            await this.$store.dispatch('login/loginInfo', {});\n\n            this.spinShow = false;\n        },\n        data() {\n            return {\n\n                spinShow: true,\n                loading: false,\n                passwordInputType: 'password',\n                passwordInputSuffixIcon: 'md-eye',\n                loginForm: {\n                    account: 'cw001@163.com',\n                    password: '123456',\n                    rememb: false\n                },\n                ruleValidate: {\n                    account: [\n                        {required: true, message: '请输入登录账号', trigger: 'blur'}\n                    ],\n                    password: [\n                        {required: true, message: '请输入登录密码', trigger: 'blur'}\n                    ]\n                }\n            }\n        },\n\n        methods: {\n            ...mapActions('db', [\n                'database',\n            ]),\n\n            showPwd() {\n                if (this.passwordInputType == 'password') {\n                    this.passwordInputType = 'text';\n                    this.passwordInputSuffixIcon = 'md-eye-off';\n                } else {\n                    this.passwordInputType = 'password';\n                    this.passwordInputSuffixIcon = 'md-eye';\n                }\n            },\n            login(name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        this.$store.dispatch('login/login', this.loginForm).then(() => {\n                            if (this.is_logined) {\n                                this.$router.addRoutes(this.routers.concat([{\n                                    path: '*',\n                                    redirect: '/404'\n                                }]));\n                                // sessionStorage.setItem('test','vvvv');\n                                this.$router.push('/admin');\n                            } else {\n                                this.$Message.error('账号或密码错误!');\n                            }\n                        }).catch(error => {\n                            this.$Message.error('登录失败请重新登录!');\n                            // console.info('catch -- error',error);\n                        });\n                    } else {\n                        // this.$Message.error('请正确输入账号密码');\n                    }\n                })\n\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/iview-loader/index.js??ref--0-2!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/iview-loader/index.js??ref--0-2!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7e4720e8&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}